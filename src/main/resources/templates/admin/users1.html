<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" href="/webjars/bootstrap/4.5.3/css/bootstrap.min.css">
	<title>Users</title>
</head>
<body>
	<div th:replace="~{navbar.html::logout}"/>
	<div class="container">
		<div th:switch="${users}">
			<div class="row">
				<ul class="nav nav-tabs" id="myTab" role="tablist">
					<li class="nav-item" role="presentation">
						<a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">Users table</a>
					</li>
					<li class="nav-item" role="presentation">
						<a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile" aria-selected="false">New user</a>
					</li>
				</ul>
				<div class="tab-content" id="myTabContent">
					<div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
						<div class="card-body">
							<h2 class="h2">Admin panel</h2>
							<table class="table table-hover">
								<thead class="thead-light">
								<tr>
									<th>Id</th>
									<th>First name</th>
									<th>Last name</th>
									<th>Age</th>
									<th>Role</th>
									<th>Edit</th>
									<th>Delete</th>
								</tr>
								</thead>
								<tbody>
								<tr th:each="user : ${users}">
									<td th:text="${user.id}">Id</td>
									<td th:text="${user.firstName}">First name</td>
									<td th:text="${user.lastName}">Last name</td>
									<td th:text="${user.age}">Age</td>
									<td th:text="${user.password}">Password</td>
									<td><a th:href="@{/admin/users/{id}/edit(id=${user.getId()})}">Edit</a></td>
									<td>
										<form th:method="DELETE" th:action="@{/admin/users/{id}(id=${user.getId()})}" >
											<input class="btn btn-danger" type="submit" value="Delete">
										</form>
									</td>
								</tr>
								</tbody>
							</table>
						</div>
					</div>
					<div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">...</div>
				</div>
			</div>
		</div>
	</div>
	<script src="webjars/jquery/3.5.1/jquery.min.js" ></script>
	<script src="webjars/bootstrap/4.5.3/js/bootstrap.min.js"></script>
</body>
</html>